<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>TerraMedia APS</title>
  <meta name="description" content="Progettiamo e produciamo eventi d’arte e cultura tra Chianti, Capalbio e oltre.">
  <link rel="icon" href="/assets/favicon.ico">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="/assets/styles.css">
</head>
<body class="bg-white text-gray-900">
  <!-- Navbar -->
  <header class="sticky top-0 z-40 bg-white/80 backdrop-blur border-b">
    <div class="mx-auto max-w-6xl px-4 py-3 flex items-center justify-between">
      <a href="#/" class="flex items-center gap-3">
        <div class="w-8 h-8 rounded-full bg-black"></div>
        <span class="font-semibold tracking-wide">TerraMedia APS</span>
      </a>
      <nav class="hidden md:flex items-center gap-6 text-sm">
        <a href="#/progetti" class="hover:underline">Eventi & Progetti</a>
        <a href="#/servizi" class="hover:underline">Servizi</a>
        <a href="#/artisti" class="hover:underline">Artisti</a>
        <a href="#/collaborazioni" class="hover:underline">Collaborazioni</a>
        <a href="#/chi-siamo" class="hover:underline">Chi siamo</a>
        <a href="#/contatti" class="hover:underline">Contatti</a>
      </nav>
      <div class="flex items-center gap-3">
        <a href="#/progetti" class="btn">Scopri i progetti</a>
      </div>
    </div>
  </header>

  <!-- App container -->
  <main id="app"></main>

  <!-- Footer -->
  <footer class="border-t">
    <div class="mx-auto max-w-6xl px-4 py-10 text-sm text-gray-600 flex flex-col md:flex-row gap-6 md:gap-10 justify-between">
      <div>
        <div class="font-semibold">TerraMedia APS</div>
        <div>Capalbio (GR) / San Casciano (FI)</div>
      </div>
      <div class="flex items-center gap-4">
        <a href="#/privacy" class="underline">Privacy</a>
        <a href="#/cookie" class="underline">Cookie</a>
        <a href="#/note-legali" class="underline">Note legali</a>
      </div>
      <div class="text-right">© <span id="year"></span> TerraMedia</div>
    </div>
  </footer>

<script>
const PROJECTS = [
  {
    id: "isaco-2020-orvieto",
    title: "Io mi sposto un po' più in là (…se per caso cadesse il mondo)",
    type: "Mostra fotografica",
    artist: "Isaco Praxolu",
    period: "21 feb – 17 apr 2020",
    place: "Palazzo Coelli, Orvieto (TR)",
    curator: "Davide Sarchioni", // Nome presente SOLO qui come credit curatoriale
    body: "Personale con oltre 40 opere realizzate tra 2015 e 2020. Organizzazione: LaDi Art + TerraMedia; collaborazione: Fondazione Cassa di Risparmio di Orvieto, Fondazione Luca e Katia Tomassini."
  },
  {
    id: "vedere-lontano-2020",
    title: "Vedere Lontano – atto I",
    type: "Progetto espositivo a cielo aperto",
    artist: "Barbieri, Lange, Palazzari (omaggio a Staccioli)",
    period: "lug – ott 2020",
    place: "Vetrya Corporate Campus, Orvieto (TR)",
    curator: "",
    body: "Fondazione Luca e Katia Tomassini in collaborazione con TerraMedia e Archivio Mauro Staccioli; opere di Antonio Barbieri, Thomas Lange, Valentina Palazzari e omaggio a Mauro Staccioli."
  },
  {
    id: "achille-perilli-2019",
    title: "Achille Perilli. Beyond",
    type: "Mostra",
    artist: "Achille Perilli",
    period: "14 nov 2019 – 29 feb 2020",
    place: "Palazzo Petrangeli (Bagnoregio) / Vetrya Campus (Orvieto)",
    curator: "Davide Sarchioni",
    body: "Progetto espositivo in due sedi. Partner: Comune di Bagnoregio, Fondazione LKT."
  },
  {
    id: "chiantissimo-2022",
    title: "Chiantissimo 2022",
    type: "Rassegna diffusa",
    artist: "Ciancimino, Favelli, Marsiglia, Numero Cromatico, Palazzari, Thomas Lange",
    period: "ago – set 2022",
    place: "San Casciano / Barberino Tavarnelle / Greve in Chianti (FI)",
    curator: "",
    body: "Sei artisti invitati a interventi in situ nel territorio del Chianti."
  }
];

const ARTISTS = [
  { id: "isaco-praxolu", name: "Isaco Praxolu", role: "Fotografia / Performance" },
  { id: "antonio-barbieri", name: "Antonio Barbieri", role: "Scultura / Installazione" },
  { id: "thomas-lange", name: "Thomas Lange", role: "Pittura / Installazione" },
  { id: "valentina-palazzari", name: "Valentina Palazzari", role: "Installazione" },
  { id: "mauro-staccioli", name: "Mauro Staccioli", role: "Scultura (omaggio)" },
  { id: "gabriella-ciancimino", name: "Gabriella Ciancimino", role: "Installazione / Public Art" },
  { id: "flavio-favelli", name: "Flavio Favelli", role: "Arte visiva" },
  { id: "vincenzo-marsiglia", name: "Vincenzo Marsiglia", role: "Arte digitale / Interattiva" },
  { id: "numero-cromatico", name: "Numero Cromatico", role: "Collettivo" },
  { id: "christian-leperino", name: "Christian Leperino", role: "Scultura / Pittura" },
  { id: "boca-design", name: "BOCA design", role: "Design / Installazione" },
  { id: "mutsuo-hirano", name: "Mutsuo Hirano", role: "Scultura" }
];

function el(tag, attrs={}, children=[]) {
  const node = document.createElement(tag);
  Object.entries(attrs).forEach(([k,v]) => {
    if (k === 'class') node.className = v;
    else if (k.startsWith('on')) node.addEventListener(k.slice(2).toLowerCase(), v);
    else node.setAttribute(k, v);
  });
  (Array.isArray(children) ? children : [children]).filter(Boolean).forEach(c => {
    node.appendChild(typeof c === 'string' ? document.createTextNode(c) : c);
  });
  return node;
}

function section(title, content) {
  return el('section', {class: 'mx-auto max-w-6xl px-4 py-10'}, [
    el('h1', {class: 'text-3xl font-semibold'}, title),
    el('div', {class: 'mt-4'}, content)
  ]);
}

function renderHome() {
  const wrap = el('div', {}, [
    // Hero
    el('section', {class: 'relative overflow-hidden'}, [
      el('div', {class: 'mx-auto max-w-6xl px-4 py-20 md:py-28'}, [
        el('h1', {class: 'text-4xl md:text-6xl font-bold tracking-tight'}, 'Progettiamo e produciamo eventi d’arte e cultura'),
        el('p', {class: 'mt-5 max-w-2xl text-lg text-gray-600'}, 'Tra Chianti, Capalbio e oltre. Curatela, produzione, allestimenti e comunicazione per mostre, festival e progetti site-specific.'),
        el('div', {class: 'mt-8 flex flex-wrap gap-3'}, [
          el('a', {href:'#/progetti', class:'btn'}, 'Eventi & Progetti'),
          el('a', {href:'#/servizi', class:'btn btn-outline'}, 'I nostri servizi')
        ])
      ])
    ]),
    // In evidenza
    section('In evidenza', [
      el('div', {class: 'grid md:grid-cols-3 gap-6'}, PROJECTS.slice(0,3).map(p => cardProject(p)))
    ]),
    // Servizi
    renderServicesSection()
  ]);
  return wrap;
}

function cardProject(p) {
  return el('div', {class: 'rounded-2xl overflow-hidden border'}, [
    el('div', {class: 'aspect-[16/9] bg-gray-100'}),
    el('div', {class: 'p-5'}, [
      el('div', {class: 'text-lg font-semibold'}, p.title),
      el('div', {class: 'text-sm text-gray-600 mt-1'}, `${p.type} — ${p.artist}`),
      el('div', {class: 'text-sm text-gray-600 mt-1'}, `${p.period} · ${p.place}`),
      p.curator ? el('div', {class: 'text-xs text-gray-600 mt-1'}, `A cura di ${p.curator}`) : null,
      el('div', {class: 'mt-4'}, [
        el('a', {href:`#/progetti/${p.id}`, class:'btn btn-secondary'}, 'Approfondisci')
      ])
    ])
  ]);
}

function renderProjectsList() {
  return section('Eventi & Progetti', [
    el('div', {class: 'grid md:grid-cols-3 gap-6'}, PROJECTS.map(p => cardProject(p)))
  ]);
}

function renderProjectDetail(id) {
  const p = PROJECTS.find(x => x.id === id);
  if (!p) return section('Progetto non trovato', []);
  return section(p.title, [
    el('div', {class: 'text-gray-600'}, `${p.type} — ${p.artist}`),
    el('div', {class: 'text-sm text-gray-600 mt-1'}, `${p.period} · ${p.place}`),
    p.curator ? el('div', {class: 'text-sm text-gray-700 mt-1'}, `A cura di ${p.curator}`) : null,
    el('p', {class: 'mt-6 text-gray-800'}, p.body)
  ]);
}

function renderArtists() {
  return section('Artisti', [
    el('p', {class:'text-gray-700 mb-4'}, 'Selezione di artisti che hanno collaborato con TerraMedia in mostre, rassegne e progetti site-specific.'),
    el('div', {class:'grid md:grid-cols-3 gap-6'}, ARTISTS.map(a => el('div', {class:'rounded-2xl overflow-hidden border'}, [
      el('div', {class:'aspect-[4/3] bg-gray-100'}),
      el('div', {class:'p-5'}, [
        el('div', {class:'text-lg font-semibold'}, a.name),
        el('div', {class:'text-sm text-gray-700 mt-1'}, a.role)
      ])
    ])))
  ]);
}

function renderCollaborations() {
  const partners = [
    ["Fondazione Luca e Katia Tomassini", "Fondazione / Partner"],
    ["Vetrya Corporate Campus", "Sede espositiva / Partner"],
    ["Archivio Mauro Staccioli", "Archivio / Partner"],
    ["Associazione TEMA", "Partner culturale"],
    ["Comune di Bagnoregio", "Istituzione"],
    ["Fondazione Cassa di Risparmio di Orvieto", "Fondazione"]
  ];
  return section('Collaborazioni', [
    el('p', {class:'text-gray-700 mb-4'}, 'Partner, fondazioni e istituzioni con cui abbiamo realizzato progetti, mostre e rassegne.'),
    el('div', {class:'grid md:grid-cols-3 gap-6'}, partners.map(([name,role]) => el('div', {class:'rounded-2xl overflow-hidden border'}, [
      el('div', {class:'aspect-[4/3] bg-gray-100'}),
      el('div', {class:'p-5'}, [
        el('div', {class:'text-lg font-semibold'}, name),
        el('div', {class:'text-sm text-gray-700 mt-1'}, role)
      ])
    ])))
  ]);
}

function renderServicesSection() {
  const items = [
    ["Curatela e direzione", "Concept, selezione artisti, testi critici, project management."],
    ["Produzione eventi", "Logistica, permessi, budget, piani sicurezza, fundraising."],
    ["Allestimenti e mostre", "Design espositivo, grafica, cataloghi, rapporti con istituzioni."],
    ["Comunicazione e media", "Ufficio stampa, social, foto/video, siti progetto."]
  ];
  return el('section', {class:'bg-gray-50'}, [
    el('div', {class:'mx-auto max-w-6xl px-4 py-14 md:py-20'}, [
      el('div', {class:'flex items-center gap-3'}, [
        el('h2', {class:'text-2xl md:text-3xl font-semibold'}, 'Cosa facciamo')
      ]),
      el('div', {class:'mt-8 grid md:grid-cols-4 gap-6'}, items.map(([t,b]) => el('div', {class:'rounded-2xl border p-5'}, [
        el('div', {class:'text-lg font-semibold'}, t),
        el('p', {class:'text-gray-700 text-sm mt-2'}, b),
        el('div', {class:'mt-4'}, [ el('a', {href:'#/contatti', class:'btn btn-outline'}, 'Richiedi preventivo') ])
      ])))
    ])
  ]);
}

function renderAbout() {
  return el('div', {class:'mx-auto max-w-6xl px-4 py-10 grid md:grid-cols-2 gap-10'}, [
    el('div', {}, [
      el('h1', {class:'text-3xl font-semibold'}, 'Chi siamo'),
      el('p', {class:'mt-4 text-gray-700'}, 'TerraMedia è un’associazione di promozione sociale che connette arte e comunità attraverso progetti culturali, mostre e rassegne. Lavoriamo tra il Chianti e la Maremma, coltivando relazioni con istituzioni, territori e pubblici.'),
      el('p', {class:'mt-3 text-gray-700'}, 'Crediamo nella produzione culturale come pratica accessibile e sostenibile: curatela attenta, processi chiari, cura dei dettagli.')
    ]),
    el('div', {class:'rounded-2xl bg-gray-100 aspect-[4/3]'})
  ]);
}

function renderContacts() {
  const form = el('form', {class:'grid gap-4', onsubmit: (e)=>{e.preventDefault(); alert('Grazie! Messaggio inviato (demo)');}}, [
    el('input', {class:'field', placeholder:'Nome', required:true}),
    el('input', {class:'field', placeholder:'Email', type:'email', required:true}),
    el('textarea', {class:'field min-h-[120px]', placeholder:'Messaggio', required:true}),
    el('div', {class:'text-xs text-gray-500'}, 'Inviando accetti la nostra privacy policy.'),
    el('button', {class:'btn', type:'submit'}, 'Invia')
  ]);
  return el('div', {class:'mx-auto max-w-6xl px-4 py-10 grid md:grid-cols-2 gap-10 items-start'}, [
    el('div', {}, [
      el('h1', {class:'text-3xl font-semibold'}, 'Contatti'),
      el('p', {class:'mt-4 text-gray-700'}, 'Scrivici per progetti, collaborazioni, press e preventivi.'),
      el('ul', {class:'mt-6 space-y-3 text-gray-700'}, [
        el('li', {}, 'info@terramediaproject.it'),
        el('li', {}, '+39 373 886 0955'),
        el('li', {}, '@terramedia_project')
      ])
    ]),
    el('div', {class:'rounded-2xl border p-5'}, [
      el('div', {class:'text-lg font-semibold mb-3'}, 'Scrivici un messaggio'),
      form
    ])
  ]);
}

function router() {
  const app = document.getElementById('app');
  app.innerHTML = '';
  const hash = location.hash.replace('#','') || '/';
  const parts = hash.split('/').filter(Boolean);
  const root = parts[0] || '';
  const id = parts[1];

  if (root === '' || root === '/') app.appendChild(renderHome());
  else if (root === 'progetti' && id) app.appendChild(renderProjectDetail(id));
  else if (root === 'progetti') app.appendChild(renderProjectsList());
  else if (root === 'artisti') app.appendChild(renderArtists());
  else if (root === 'collaborazioni') app.appendChild(renderCollaborations());
  else if (root === 'chi-siamo') app.appendChild(renderAbout());
  else if (root === 'contatti') app.appendChild(renderContacts());
  else app.appendChild(section('Pagina non trovata', []));
}

window.addEventListener('hashchange', router);
window.addEventListener('load', () => {
  document.getElementById('year').textContent = new Date().getFullYear();
  router();
});
</script>
</body>
</html>
